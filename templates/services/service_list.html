{% extends "base.html" %}
{% load static %}

{% block title %}Services | Pawverse{% endblock %}

{% block content %}
<section class="hero-wrap hero-wrap-2" style="background-image: url('{% static "images/bg_2.jpg" %}');" data-stellar-background-ratio="0.5">
  <div class="overlay"></div>
  <div class="container">
    <div class="row no-gutters slider-text align-items-end">
      <div class="col-md-9 ftco-animate pb-5">
        <p class="breadcrumbs mb-2"><span class="mr-2"><a href="{% url 'home' %}">Home <i class="ion-ios-arrow-forward"></i></a></span> <span>/ Services <i class="ion-ios-arrow-forward"></i></span></p>
        <h1 class="mb-0 bread">Services</h1>
      </div>
    </div>
  </div>
</section>

<section class="ftco-section bg-light">
  <div class="container">
    <div class="row">
      {% for service in services %}
      <div class="col-md-4 d-flex align-self-stretch ftco-animate mb-6">
        <!-- Make entire card clickable -->
        <a href="{% url 'services:service_detail' service.slug %}" >
          <div class="d-block services text-center">
            <div class="icon d-flex align-items-center justify-content-center mb-4">
              <span class="{{ service.icon_class }}"></span>
            </div>
            <div class="media-body p-4">
              <h3 class="heading">{{ service.title }}</h3>
              <p>{{ service.description }}</p>
              <a href="{% url 'services:service_detail' service.slug %}" class="btn-custom d-flex align-items-center justify-content-center">
                <span class="fa fa-chevron-right"></span><i class="sr-only">Read more</i>
              </a>
            </div>
          </div>
        </a>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="alert alert-info text-center">No services available.</div>
      </div>
      {% endfor %}
    </div>
    <!-- Pagination -->
    {% if services.has_other_pages %}
<nav>
  <ul class="pagination justify-content-center">
    {% if services.has_previous %}
      <li class="page-item">
        <a class="page-link text-success" href="?page={{ services.previous_page_number }}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">&laquo;</span></li>
    {% endif %}

    {% for num in services.paginator.page_range %}
      {% if services.number == num %}
        <li class="page-item active"><span class="page-link bg-success border-success">{{ num }}</span></li>
      {% elif num > services.number|add:'-3' and num < services.number|add:'3' %}
        <li class="page-item"><a class="page-link text-success" href="?page={{ num }}">{{ num }}</a></li>
      {% endif %}
    {% endfor %}

    {% if services.has_next %}
      <li class="page-item">
        <a class="page-link text-success" href="?page={{ services.next_page_number }}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">&raquo;</span></li>
    {% endif %}
  </ul>
</nav>
{% endif %}
</section>
<style>
.mb-6 {
    margin-bottom: 6.5rem !important; /* Increase for more row spacing */
}
.icon {
    margin-bottom: 1.5rem !important;
}
.pagination {
    gap: 12px;
}
.pagination .page-link {
    border-radius: 50% !important;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #e7e7e7;
    background: #fff;
    color: #10bf65;
    font-weight: 600;
    font-size: 1.15rem;
    margin: 0 3px;
    transition: border-color 0.2s, background 0.2s, color 0.2s;
    box-shadow: none;
}
.pagination .page-item.active .page-link {
    background: #10bf65;
    border-color: #10bf65;
    color: #fff;
}
.pagination .page-link:hover,
.pagination .page-link:focus,
.pagination .page-item:not(.active) .page-link:active {
    border-color: #10bf65;
    color: #10bf65;
    background: #f7fdfa;
    box-shadow: none;
}
.pagination .page-item.disabled .page-link {
    color: #bbb;
    border-color: #e7e7e7;
    background: #fff;
    cursor: not-allowed;
    opacity: 0.6;
}
</style>
{% endblock %}
